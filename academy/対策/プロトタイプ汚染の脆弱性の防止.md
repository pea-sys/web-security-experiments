# プロトタイプ汚染の脆弱性の防止

悪用可能なガジェットと組み合わされているかどうかに関係なく、Web サイトで特定したプロトタイプ汚染の脆弱性には パッチを適用することをお勧めします。

- プロパティキーのサニタイズ
  プロトタイプ汚染の脆弱性を防ぐ最も明白な方法の 1 つは、プロパティ キーを既存のオブジェクトにマージする前にプロパティ キーをサニタイズすることです。こうすることで、攻撃者が**proto**オブジェクトのプロトタイプを参照する などのキーを挿入することを防ぐことができます。

- プロトタイプオブジェクトへの変更の防止
  プロトタイプ汚染の脆弱性を防ぐためのより堅牢なアプローチは、プロトタイプ オブジェクトがまったく変更されないようにすることです。
  オブジェクトに対してメソッドを呼び出すと、Object.freeze()そのプロパティとその値は変更できなくなり、新しいプロパティを追加できなくなります。

- オブジェクトがプロパティを継承しないようにする  
  Object.create()。これにより、任意のオブジェクトを新しいオブジェクトのプロトタイプとして割り当てることができるだけでなく、プロトタイプを使用してオブジェクトを作成することもできます。Object.create(null)により、プロパティがまったく継承されなくなります。

- 可能な場合はより安全な代替品を使用する  
  プロトタイプの汚染に対するもう 1 つの強力な防御策は、組み込みの保護を提供するオブジェクトを使用することです。たとえば、オプション オブジェクトを定義する場合、代わりに Map を使用できます
